<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React - Day 2</title>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    <style>
        .no_space {
            line-height: 1rem;
        }
    </style>

</head>
<body>
    <div class="container">
        <div id="root"></div>
    </div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script crossorigin src="https://unpkg.com/babel-standalone@6/babel.js"></script>
    <script type="text/babel">  // this is JSX
    // import React from "react"; // Webstorm wanted this here but it didn't work so it's commented out :3

    function HowManyDays(blåhaj) {
        console.log(blåhaj);
        let daysOld = blåhaj.years * 365
        return <strong> {daysOld} days old</strong>
    }

    function HowManySeconds(yeag) {
        console.log(yeag);
        let secsOld = yeag.years * 365 * 24 * 60 * 60;
        return <em> {secsOld} seconds old</em>
    }



    function HelloWorld(woag) {
        const [count, setCount] = React.useState(0);
        console.log(count);
        // console.log(woag);
        return <div className="card hoverable" onClick={ function(){ setCount(count+1); } }>
            <div className="card-content">
                <span className="card-title">Hello, World! Hia, {woag.name} ({count}) &lt;3</span>
                <p>
                    you be {woag.age} years old. That's <HowManyDays years={woag.age}/>, or <HowManySeconds years={woag.age}/>
                </p>
            </div>
        </div>;
    }

    function Poké() /*yeah, yeah... non-ASCII blah blah blah, whatever, it's fun >:) */ {
        const [loading, setLoading] = React.useState(true);
        const [name, setName] = React.useState("N/A");
        const [front_shiny, setFront_Shiny] = React.useState(null);
        const [front_default, setFront_Default] = React.useState(null);
        const [abilities, setAbilities] = React.useState([]);

        const [isShiny, setIsShiny] = React.useState(false);
        let url = 'https://pokeapi.co/api/v2/pokemon/furret';

        React.useEffect(function() { // <-- this makes it run ONLY ONCE, not every time it renders. ¡¡VERY IMPORTANT!!
            console.log("UseEffect");

            fetch(url).then(function(results) { // .then stops the code until fetch() is done
                results.json()
                        .then(function(data) {
                            console.log(data.name);
                            console.log(data.sprites.front_shiny);
                            console.log(data.abilities[0].ability.name);
                            setName(data.name);
                            setAbilities(data.abilities);
                            setFront_Shiny(data.sprites.front_shiny);
                            setFront_Default(data.sprites.front_default);
                        })
                        .catch(function(e) {
                            console.log(e);
                        })
                        .finally(function() {
                            setLoading(false);
                        })
            });

            // heehee they blinkie :3   
            setInterval(function() {
                setIsShiny(function(shiny) {
                    return !shiny;
                });
            }, 500);
        }, []);


        if (loading) {
            return <div>Loading Pokémon info...</div>
        }

        return <div>
            <pre className="no_space">
 <br/>                                 ▄█▀
 <br/>▄▄▄▄▄▄      ▄▄▄▄    ▄▄   ▄▄▄  ▄▄▄▄▄▄▄▄  ▄▄▄  ▄▄▄     ▄▄     ▄▄▄   ▄▄    ▄▄▄▄
 <br/>██▀▀▀▀█▄   ██▀▀██   ██  ██▀   ██▀▀▀▀▀▀  ███  ███    ████    ███   ██  ▄█▀▀▀▀█
 <br/>██    ██  ██    ██  ██▄██     ██        ████████    ████    ██▀█  ██  ██▄
 <br/>██████▀   ██    ██  █████     ███████   ██ ██ ██   ██  ██   ██ ██ ██   ▀████▄
 <br/>██        ██    ██  ██  ██▄   ██        ██ ▀▀ ██   ██████   ██  █▄██       ▀██
 <br/>██         ██▄▄██   ██   ██▄  ██▄▄▄▄▄▄  ██    ██  ▄██  ██▄  ██   ███  █▄▄▄▄▄█▀
 <br/>▀▀          ▀▀▀▀    ▀▀    ▀▀  ▀▀▀▀▀▀▀▀  ▀▀    ▀▀  ▀▀    ▀▀  ▀▀   ▀▀▀   ▀▀▀▀▀

            </pre>
            <br/>
            {name} <small>(click my face!)</small><br/>
            <img alt={name} width={300} src={isShiny ? front_shiny : front_default} onClick={function() {
                setIsShiny(!isShiny)
            }}/><br/>
            Abilities: <br/>
            {abilities.map(function (item) {
                return <div>
                    {item.ability.name}
                    <pre>{JSON.stringify(item, null, 2)}</pre>
                </div>
            })}
        </div>
    }

    // function Carousel() {
    //    //  ah, I don't know how this was made to work, so it doesn't :3
    //    return <div className="carousel">
    //         <a className="carousel-item" href="#one!"><img alt={"men"} src="../../Week_3/recipe/MEN.jpg"/></a>
    //         <a className="carousel-item" href="#two!"><img alt={"women"} src="../../Week_3/recipe/WOMEN_PRETTY.jpg"/></a>
    //         <a className="carousel-item" href="#three!"><img alt={"uh1"} src="https://lorempixel.com/250/250/nature/3"/></a>
    //         <a className="carousel-item" href="#four!"><img alt={"uh2"} src="https://lorempixel.com/250/250/nature/4"/></a>
    //         <a className="carousel-item" href="#five!"><img alt={"uh3"} src="https://lorempixel.com/250/250/nature/5"/></a>
    //     </div>
    // }

    // render the component to the DOM
    ReactDOM.render( // deprecated function, apparently -> https://react.dev/blog/2022/03/08/react-18-upgrade-guide#updates-to-client-rendering-apis
        <div>
            <nav>
                <div className="nav-wrapper">
                    <a href="#" className="brand-logo">Nova Solarz</a>
                    <ul id="nav-mobile" className="right hide-on-small-only">
                        <li><a href="sass.html">woag</a></li>
                        <li><a href="badges.html">yeag</a></li>
                        <li><a href="collapsible.html">blåhaj</a></li>
                    </ul>
                </div>
            </nav>
            <p>The carousel didn't work :(</p>
            <HelloWorld name="Nova" age={98}/>
            <HelloWorld name="Charlotte" age={528}/>
            <Poké/>
        </div>,
        document.getElementById("root"),
    );
    </script>
    <script>


<!--I don't know what this was for, but I don't think it was doing anything-->
//        document.addEventListener('DOMContentLoaded', function () {
//            console.log("LOADED! :3")
//            let elems = document.querySelectorAll('.carousel');
//            console.log(elems);
//            let instances = M.Carousel.init(elems);
//        });
    </script>
</body>
</html>